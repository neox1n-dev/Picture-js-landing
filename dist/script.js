(()=>{"use strict";const e=()=>{let e;function t(t,n,l){let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=document.querySelectorAll(t),a=document.querySelector(n),c=document.querySelector(l),i=document.querySelectorAll("[data-modal]"),r=function(){let e=document.createElement("div");e.style.width="50px",e.style.height="50px",e.style.overflowY="scroll",e.style.visibility="hidden",document.body.appendChild(e);let t=e.offsetWidth-e.clientWidth;return e.remove(),t}();o.forEach((t=>{t.addEventListener("click",(n=>{n.target&&n.preventDefault(),e=!0,s&&t.remove(),i.forEach((e=>{e.style.display="none",e.classList.add("animated","fadeIn")})),a.style.display="block",document.body.style.overflow="hidden",document.body.style.marginRight=`${r}px`}))})),c.addEventListener("click",(()=>{a.style.display="none",document.body.style.overflow="",i.forEach((e=>{e.style.display="none"})),document.body.style.marginRight="0px"})),a.addEventListener("click",(e=>{e.target===a&&(i.forEach((e=>{e.style.display="none"})),document.body.style.marginRight="0px",a.style.display="none",document.body.style.overflow="")}))}t(".button-design",".popup-design",".popup-design .popup-close"),t(".button-consultation",".popup-consultation",".popup-consultation .popup-close"),t(".fixed-gift",".popup-gift",".popup-gift .popup-close",!0),window.addEventListener("scroll",(()=>{let t=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);!e&&window.pageYOffset+document.documentElement.clientHeight>=t&&document.querySelector(".fixed-gift").click()}))},t=(e,t,n,l)=>{let s=1,o=!1;const a=document.querySelectorAll(e);function c(e){e>a.length&&(s=1),e<1&&(s=a.length),a.forEach((e=>{e.classList.add("animated"),e.style.display="none"})),a[s-1].style.display="block"}function i(e){c(s+=e)}c();try{const e=document.querySelector(n),t=document.querySelector(l);e.addEventListener("click",(()=>{i(-1),a[s-1].classList.remove("slideInLeft"),a[s-1].classList.add("slideInRight")})),t.addEventListener("click",(()=>{i(1),a[s-1].classList.add("slideInLeft"),a[s-1].classList.remove("slideInRight")}))}catch(e){}function r(){o="vertical"===t?setInterval((function(){i(1),a[s-1].classList.add("slideInDown")}),3e3):setInterval((function(){i(1),a[s-1].classList.add("slideInLeft"),a[s-1].classList.remove("slideInRight")}),3e3)}a[0].parentNode.addEventListener("mouseenter",(()=>{clearInterval(o)})),a[0].parentNode.addEventListener("mouseleave",(()=>{r()})),r()},n=async(e,t)=>{let n=await fetch(e,{method:"POST",body:t});return await n.text()},l=e=>{function t(e){let t="+380 (__) ___ __ __",n=0,l=t.replace(/\D/g,""),s=this.value.replace(/\D/g,"");l.length>=s.length&&(s=l),this.value=t.replace(/./g,(function(e){return/[_\d]/.test(e)&&n<s.length?s.charAt(n++):n>=s.length?"":e})),"blur"===e.type?2==this.value.length&&(this.value=""):((e,t)=>{if(t.focus(),t.setSelectionRange)t.setSelectionRange(e,e);else if(t.createTextRange){let n=t.createTextRange();n.collapse(!0),n.moveEnd("character",e),n.moveStart("character",e),n.select()}})(this.value.length,this),"+380"!=this.value.slice(0,4)&&"blur"!==this.type&&(this.blur(),this.value="")}document.querySelectorAll(e).forEach((e=>{e.addEventListener("input",t),e.addEventListener("focus",t),e.addEventListener("blur",t)}))},s=e=>{document.querySelectorAll(e).forEach((e=>{e.addEventListener("keypress",(function(e){e.key.match(/[^а-я 0-9]/gi)&&e.preventDefault()}))}))},o=(e,t)=>{document.querySelector(e).addEventListener("click",(function(){(async e=>{let t=await fetch(e);if(!t.ok)throw new Error(`Could not fetch ${e}, status: ${t.status}`);return await t.json()})("http://localhost:3000/styles").then((e=>{e.forEach((e=>{let{src:n,title:l,link:s}=e,o=document.createElement("div");o.classList.add("animated","fadeInUp","col-sm-3","col-sm-offset-0","col-xs-10","col-xs-offset-1"),o.innerHTML=`\n                <div class="styles-block">\n                    <img src="${n}" alt="style">\n                    <h4>${l}</h4>\n                    <a href="${s}">Подробнее</a>\n                </div>\n            `,document.querySelector(t).appendChild(o)}))})).catch((e=>console.log(e))),this.remove()}))},a=(e,t)=>{const n=document.querySelectorAll(e);n.forEach((e=>{e.addEventListener("click",(function(){this.classList.contains("active-style")||n.forEach((e=>{e.classList.remove("active-style"),e.nextElementSibling.classList.remove("active-content"),e.nextElementSibling.style.maxHeight="0px"})),this.classList.toggle("active-style"),this.nextElementSibling.classList.toggle("active-content"),this.classList.contains("active-style")?this.nextElementSibling.style.maxHeight=this.nextElementSibling.scrollHeight+80+"px":this.nextElementSibling.style.maxHeight="0px"}))}))},c=e=>{const t=document.querySelector(e);window.addEventListener("scroll",(()=>{document.documentElement.scrollTop>1650?(t.classList.add("animated","fadeIn"),t.classList.remove("fadeOut")):(t.classList.add("fadeOut"),t.classList.remove("fadeIn"))})),document.querySelectorAll('[href^="#"]').forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault();let t=document.documentElement.scrollTop,n=this.hash,l=document.querySelector(n).getBoundingClientRect().top,s=null;requestAnimationFrame((function e(o){null===s&&(s=o);let a=o-s,c=l<0?Math.max(t-a/.2,t+l):Math.min(t+a/.2,t+l);document.documentElement.scrollTo(0,c),c!=t+l?requestAnimationFrame(e):location.hash=n}))}))}))};window.addEventListener("DOMContentLoaded",(()=>{var i;e(),t(".feedback-slider-item","horizontal",".main-prev-btn",".main-next-btn"),t(".main-slider-item","vertical"),(()=>{const e=document.querySelectorAll("form"),t=document.querySelectorAll("input"),l=document.querySelectorAll('[name="upload"]'),s="Заватаження...",o="Дякуємо! Скоро ми з вами звяжемось",a="Щось пішло не так...",c="assets/img/spinner.gif",i="assets/img/ok.png",r="assets/img/fail.png",d=()=>{t.forEach((e=>{e.value=""})),l.forEach((e=>{e.previousElementSibling.textContent="Файл не вибраний"}))};l.forEach((e=>{e.addEventListener("input",(()=>{let t;const n=e.files[0].name.split(".");t=n[0].length>6?"...":".";const l=n[0].substring(0,6)+t+n[1];e.previousElementSibling.textContent=l,e.closest("main")&&u(e)}))}));const u=e=>{let t=document.createElement("div");t.classList.add("status"),e.parentNode.appendChild(t),e.classList.add("animated","fadeOutUp"),setTimeout((()=>{e.style.display="none"}),400);let l=document.createElement("img");l.setAttribute("src",c),l.classList.add("animated","fadeInUp"),t.appendChild(l);let u=document.createElement("div");u.textContent=s,t.appendChild(u);const m=new FormData;m.append("photoes",e.files),n("assets/server.php",m).then((e=>{console.log(e),l.setAttribute("src",i),u.textContent=o})).catch((()=>{l.setAttribute("src",r),u.textContent=a})).finally((()=>{d(),setTimeout((()=>{t.remove(),e.style.display="block",e.classList.remove("fadeOutUp"),e.classList.remove("fadeInUp")}),5e3)}))};e.forEach((e=>{e.addEventListener("submit",(t=>((e,t)=>{e.preventDefault();let l=document.createElement("div");l.classList.add("status"),t.parentNode.appendChild(l),t.classList.add("animated","fadeOutUp"),setTimeout((()=>{t.style.display="none"}),400);let u=document.createElement("img");u.setAttribute("src",c),u.classList.add("animated","fadeInUp"),l.appendChild(u);let m=document.createElement("div");m.textContent=s,l.appendChild(m);const p=new FormData(t);let h;t.querySelector(".calc-price")&&p.append("total-price",t.querySelector(".calc-price").textContent),h=t.closest(".popup-design")||t.classList.contains("calc_form")?"assets/server.php":"assets/question.php",n(h,p).then((e=>{console.log(e),u.setAttribute("src",i),m.textContent=o})).catch((()=>{u.setAttribute("src",r),m.textContent=a})).finally((()=>{d(),setTimeout((()=>{l.remove(),t.style.display="block",t.classList.remove("fadeOutUp"),t.classList.remove("fadeInUp")}),5e3)}))})(t,e)))}))})(),l('[name="phone"]'),s('[name="name"]'),s('[name="message"]'),o(".button-styles","#styles .row"),((e,t,n,l,s)=>{const o=document.querySelector(e),a=document.querySelector(t),c=document.querySelector(n),i=document.querySelector(l),r=document.querySelector(s);let d=0;const u=()=>{d=Math.round(+o.value*+a.value+ +c.value),""==o.value||""==a.value?r.textContent="Будь ласка, виберіть розмір і матеріал картини":"IWANTPOPART"===i.value?r.textContent=Math.round(.7*d):r.textContent=d};o.addEventListener("change",u),a.addEventListener("change",u),c.addEventListener("change",u),i.addEventListener("input",u)})("#size","#material","#options",".promocode",".calc-price"),(()=>{const e=document.querySelector(".portfolio-menu"),t=e.querySelectorAll("li"),n=document.querySelector(".portfolio-wrapper"),l=n.querySelectorAll(".all"),s=document.querySelector(".portfolio-no");e.addEventListener("click",(e=>{const t=e.target.classList[0];var o;o=n.querySelectorAll(`.${t}`),l.forEach((e=>{e.style.display="none",e.classList.remove("animated","fadeIn")})),s.style.display="none",s.classList.remove("animated","fadeIn"),o.length<=0?(s.style.display="block",s.classList.add("animated","fadeIn")):o.forEach((e=>{e.style.display="block",e.classList.add("animated","fadeIn")}))})),e.addEventListener("click",(e=>{let n=e.target;n&&"LI"==n.tagName&&(t.forEach((e=>e.classList.remove("active"))),n.classList.add("active"))}))})(),i=".sizes-block",document.querySelectorAll(i).forEach((e=>{e.addEventListener("mouseover",(()=>{!function(e){const t=e.querySelector("img");t.src=t.src.slice(0,-4)+"-1.png",e.querySelectorAll("p:not(.sizes-hit").forEach((e=>{e.style.display="none"}))}(e)})),e.addEventListener("mouseout",(()=>{!function(e){const t=e.querySelector("img");t.src=t.src.slice(0,-6)+".png",e.querySelectorAll("p:not(.sizes-hit").forEach((e=>{e.style.display="block"}))}(e)}))})),a(".accordion-heading"),((e,t)=>{const n=document.querySelector(e),l=document.querySelector(t);n.style.display="none",l.addEventListener("click",(()=>{"none"==n.style.display&&window.screen.availWidth<993?n.style.display="block":n.style.display="none"})),window.addEventListener("resize",(()=>{window.screen.availWidth>992&&(n.style.display="none")}))})(".burger-menu",".burger"),c(".pageup"),(()=>{const e=document.querySelectorAll('[name="upload"]');function t(e){e.preventDefault(),e.stopPropagation()}["dragenter","dragleave","dragover","drop"].forEach((n=>{e.forEach((e=>{e.addEventListener(n,t,!1)}))})),["dragenter","dragover"].forEach((t=>{e.forEach((e=>{e.addEventListener(t,(()=>{return(t=e).closest(".file_upload").style.border="5px solid yellow",void(t.closest(".file_upload").style.backgroundColor="rgba(0, 0, 0, .7)");var t}),!1)}))})),["dragleave","drop"].forEach((t=>{e.forEach((e=>{e.addEventListener(t,(()=>{return(t=e).closest(".file_upload").style.border="none",void(t.closest(".calc_form")?t.closest(".file_upload").style.backgroundColor="#fff":t.closest(".file_upload").style.backgroundColor="#ededed");var t}),!1)}))})),e.forEach((e=>{e.addEventListener("drop",(t=>{if(e.files=t.dataTransfer.files,e.closest(".main")){const t=new FormData;t.append("photoes",e.files),n("assets/server.php",t).then((e=>console.log(e))).catch((e=>console.log(e)))}let l;const s=e.files[0].name.split(".");l=s[0].length>6?"...":".";const o=s[0].substring(0,6)+l+s[1];e.previousElementSibling.textContent=o}))}))})()}))})();